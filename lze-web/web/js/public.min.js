function newwindow(e,t){switch(t){case 1:winstatus=1,e.className="window",e.addEventListener("mousedown",function(){winlevel(e)});const n=document.createElement("div");let i,o;n.onclick=(()=>newwindow(e,0)),n.className="close-win",n.title="关闭",e.appendChild(n),document.body.appendChild(e),e.style.top="100px",e.onmousedown=function(t){function n(t,n){e.style.left=t-i+"px",e.style.top=n-o+"px"}function l(e){n(e.pageX,e.pageY)}i=t.clientX-e.getBoundingClientRect().left,o=t.clientY-e.getBoundingClientRect().top,document.addEventListener("mousemove",l),e.onmouseup=function(){document.removeEventListener("mousemove",l),e.onmouseup=null}},e.ondragstart=function(){return!1},e.style.display="flex",setTimeout(()=>{e.style.opacity="1"},10);break;case 0:document.body.removeChild(e),e=null,winstatus=0}}function winlevel(e){e.style.zIndex="16",curwin&&curwin!=e&&(curwin.style.zIndex=""),curwin=e}let curwin,winstatus=0;const metacolor={dark:{default:"#242424",green:"#18201b",blue:"#181c20",yellow:"#202018",orange:"#201d18",pink:"#201820",red:"#201818"},light:{default:"#747474",green:"#8eb79d",blue:"#8e9fb7",yellow:"#b7ad8e",orange:"#b79f8e",pink:"#b78eab",red:"#b78e8e"}};let color=localStorage.getItem("color")||"default",mode=localStorage.getItem("mode")||"dark";if(window.matchMedia("(pointer: fine)").matches&&window.matchMedia("(hover: hover)").matches){const e=document.createElement("div");e.classList.add("tooltip"),document.body.appendChild(e),document.addEventListener("mousemove",t=>{const n=e.offsetWidth,i=e.offsetHeight,o=t.clientX,l=t.clientY;let s=o+20,d=l-30;window.innerWidth-o<150&&(s=o-n-20),l<60&&(d=l+i-20),e.style.left=`${s}px`,e.style.top=`${d}px`;const c=t.target.closest("[title], [tip-title]");if(c){if(c.hasAttribute("title")&&!c.hasAttribute("tip-title")){const t=c.getAttribute("title");c.setAttribute("tip-title",t),c.removeAttribute("title"),e.innerText=t}else c.hasAttribute("tip-title")&&(e.innerText=c.getAttribute("tip-title"));e.style.display="",setTimeout(function(){e.style.opacity="1"},500)}}),document.addEventListener("mouseout",t=>{const n=t.target.closest("[title], [tip-title]");n&&(e.innerText="",e.style.display="none",e.style.opacity="")})}