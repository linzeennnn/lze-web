import{c as w,j as a,F as d,r as L,o as C,h as l,k as P}from"./all-0L4ytAmL.js";const r=w(t=>({fileCache:{fileList:[],name:[],nowPath:[],current:-1},set:e=>{t({fileCache:e})}})),o=t=>r.getState().set(t),i=()=>r.getState().fileCache,x=()=>h("nowPath"),N=()=>h("fileList"),j=()=>r.getState().fileCache.current;function h(t){const e=i().current;return i()[t][e]}function F(t){const e=structuredClone(i());if(e.current!=-1&&e.nowPath[e.current]==t.nowPath){const n=e.fileList,c=e.nowPath,s=e.name;n[e.current]=t.fileList,c[e.current]=t.nowPath,s[e.current]=t.name,o({fileList:n,nowPath:c,name:s,current:e.current});return}o({fileList:e.current==-1?[t.fileList]:e.fileList.concat([t.fileList]),nowPath:e.current==-1?[t.nowPath]:e.nowPath.concat(t.nowPath),name:e.current==-1?[t.name]:e.name.concat(t.name),current:e.current+1})}function u(t){const e=structuredClone(i()),n=e.fileList,c=e.nowPath,s=e.name;n.length=t+1,c.length=t+1,s.length=t+1,o({fileList:n,nowPath:c,name:s,current:t})}function b({name:t,type:e,Fun:n,TextFun:c,mask:s,NameText:f,fileBtn:m}){return a.jsxs("div",{className:"file-item-box",children:[s,a.jsxs("div",{className:"file-item-frame",title:t,children:[m,a.jsx("div",{className:"file-item",onClick:()=>{n(t)},children:d(e)}),a.jsxs("div",{className:"file-name-box",children:[f,a.jsx("span",{className:"file-name",onClick:()=>{c(t)},children:t})]})]})]})}function g(){const t=r(e=>e.fileCache).name??[];return a.jsx("div",{id:"show-path",children:a.jsx("span",{children:t.map((e,n)=>a.jsx("span",{className:"file-item-show-path",onClick:()=>{u(n)},children:(e?"/":"")+e},n+e))})})}function k(){const t=r(n=>n.fileCache).current,e=()=>{u(t-1)};return L.useEffect(()=>{C({goUp:{disable:t==0,name:l("back"),fun:e}})},[t]),a.jsx("button",{id:"go-up",className:(t==0?"go-up-disable":"")+" btn",disabled:t==0,title:l("back"),onClick:e,children:P("goUp")})}export{F as A,b as F,k as G,u as L,g as S,x as a,i as b,j as c,N as g,o as s,r as u};
